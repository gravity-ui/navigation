# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Å–±–æ—Ä–∫–∏ CSS-–º–æ–¥—É–ª–µ–π

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1. CSS-–º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

- –ö–ª–∞—Å—Å—ã –∏–º–µ—é—Ç —Å—É—Ñ—Ñ–∏–∫—Å—ã: `Logo-module__gn-logo___u7qyb`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è: `[name]__[local]___[hash:base64:5]`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è camelCase –∫–æ–Ω–≤–µ–Ω—Ü–∏—è –¥–ª—è JavaScript

### 2. –û—Ç–¥–µ–ª—å–Ω—ã–µ CSS —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

- ‚úÖ –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç —Å–≤–æ–π CSS-–º–æ–¥—É–ª—å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π JS —Ñ–∞–π–ª
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `Logo.module.scss.js` —Ä—è–¥–æ–º —Å `Logo.js`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è tree-shaking

### 3. –ù–µ—Ç JS injection –¥–ª—è —Å—Ç–∏–ª–µ–π

- ‚úÖ –°—Ç–∏–ª–∏ –Ω–µ –∏–Ω–∂–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript
- ‚úÖ CSS-–º–æ–¥—É–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã —Å –∫–ª–∞—Å—Å–∞–º–∏
- ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è SSR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –±–µ–∑ –º–∏–≥–∞–Ω–∏—è

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç —Å—Ç–∏–ª–µ–π

- ‚úÖ –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å—Ç–∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–π –∏–º–ø–æ—Ä—Ç CSS —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ sideEffects –≤ package.json

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–±–æ—Ä–∫–∏

```
build/
‚îú‚îÄ‚îÄ esm/                           # ES Modules
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Logo/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Logo.js            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Logo.module.scss.js # CSS-–º–æ–¥—É–ª—å
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Logo.d.ts          # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ index.d.ts         # –≠–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.js                   # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ cjs/                           # CommonJS
    ‚îú‚îÄ‚îÄ components/
    ‚îÇ   ‚îî‚îÄ‚îÄ Logo/
    ‚îÇ       ‚îú‚îÄ‚îÄ Logo.js            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç
    ‚îÇ       ‚îú‚îÄ‚îÄ Logo.module.scss.js # CSS-–º–æ–¥—É–ª—å
    ‚îÇ       ‚îú‚îÄ‚îÄ Logo.d.ts          # TypeScript —Ç–∏–ø—ã
    ‚îÇ       ‚îî‚îÄ‚îÄ index.d.ts         # –≠–∫—Å–ø–æ—Ä—Ç—ã
    ‚îî‚îÄ‚îÄ index.js                   # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Rollup

### –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

- `preserveModules: true` - —Å–æ–∑–¥–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
- `extract: false` - CSS –æ—Å—Ç–∞–µ—Ç—Å—è –≤ JS –º–æ–¥—É–ª—è—Ö –¥–ª—è tree-shaking
- `inject: false` - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∏–Ω–∂–µ–∫—Ü–∏—é —Å—Ç–∏–ª–µ–π
- CSS-–º–æ–¥—É–ª–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏

### PostCSS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

```javascript
postcss({
  minimize: true,
  modules: {
    generateScopedName: '[name]__[local]___[hash:base64:5]',
    localsConvention: 'camelCase',
  },
  extract: false, // –í–∞–∂–Ω–æ –¥–ª—è tree-shaking
  inject: false, // –í–∞–∂–Ω–æ –¥–ª—è SSR
  include: /\.module\.(css|scss|sass)$/,
});
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### –ü—Ä–æ—Å—Ç–æ–π –∏–º–ø–æ—Ä—Ç:

```javascript
import {Logo} from '@gravity-ui/navigation';

// –°—Ç–∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
// –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
```

### –î–ª—è SSR:

```javascript
// –°—Ç–∏–ª–∏ –Ω–µ –±—É–¥—É—Ç –∏–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript
// –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –º–∏–≥–∞–Ω–∏–µ–º –ø—Ä–∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ
import {Logo} from '@gravity-ui/navigation';
```

### Tree-shaking:

```javascript
// –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
import {Logo, Footer} from '@gravity-ui/navigation';
// –°—Ç–∏–ª–∏ –¥–ª—è Title –Ω–µ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è
```

## ‚úÖ –í—ã–≤–æ–¥—ã

–°–±–æ—Ä–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

1. ‚úÖ CSS-–º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏
2. ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ CSS —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–∫–∞–∫ JS –º–æ–¥—É–ª–∏)
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç —Å—Ç–∏–ª–µ–π
4. ‚úÖ –ù–µ—Ç JS injection - –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è SSR
5. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ tree-shaking
6. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ sideEffects

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –≤–∫–ª—é—á–∞—è SSR.
