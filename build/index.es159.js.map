{"version":3,"file":"index.es159.js","sources":["../node_modules/@gravity-ui/i18n/build/esm/plural/general.js"],"sourcesContent":["import { PluralForm } from '../types';\nexport function getPluralViaIntl(value, count, lang) {\n    if (value.zero && count === 0) {\n        return value.zero;\n    }\n    if (!Intl.PluralRules) {\n        throw new Error('Intl.PluralRules is not available. Use polyfill.');\n    }\n    const pluralRules = new Intl.PluralRules(lang);\n    const form = pluralRules.select(count);\n    if (form === 'other' && typeof value.other === 'undefined') {\n        return value.many || value.few;\n    }\n    return value[form] || value.other;\n}\nexport function getPluralValue({ value, count, lang, pluralizers, log, key }) {\n    if (!Array.isArray(value)) {\n        return getPluralViaIntl(value, count, lang) || key;\n    }\n    if (!pluralizers) {\n        log('Can not use deprecated plural format without pluralizers');\n        return key;\n    }\n    if (!pluralizers[lang]) {\n        log(`Pluralization is not configured for language '${lang}', falling back to the english ruleset`);\n    }\n    if (value.length < 3) {\n        log('Missing required plurals');\n        return key;\n    }\n    const pluralizer = pluralizers[lang] || pluralizers['en'];\n    if (!pluralizer) {\n        log('Fallback pluralization is not configured!');\n        return key;\n    }\n    return value[pluralizer(count, PluralForm)] || value[PluralForm.Many] || key;\n}\n"],"names":[],"mappings":";;AACO,SAAS,gBAAgB,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;AACrD,IAAI,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,KAAK,CAAC,EAAE;AACnC,QAAQ,OAAO,KAAK,CAAC,IAAI,CAAC;AAC1B,KAAK;AACL,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AAC3B,QAAQ,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAC;AAC5E,KAAK;AACL,IAAI,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AACnD,IAAI,MAAM,IAAI,GAAG,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC3C,IAAI,IAAI,IAAI,KAAK,OAAO,IAAI,OAAO,KAAK,CAAC,KAAK,KAAK,WAAW,EAAE;AAChE,QAAQ,OAAO,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,GAAG,CAAC;AACvC,KAAK;AACL,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC;AACtC,CAAC;AACM,SAAS,cAAc,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,WAAW,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;AAC9E,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AAC/B,QAAQ,OAAO,gBAAgB,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,GAAG,CAAC;AAC3D,KAAK;AACL,IAAI,IAAI,CAAC,WAAW,EAAE;AACtB,QAAQ,GAAG,CAAC,0DAA0D,CAAC,CAAC;AACxE,QAAQ,OAAO,GAAG,CAAC;AACnB,KAAK;AACL,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;AAC5B,QAAQ,GAAG,CAAC,CAAC,8CAA8C,EAAE,IAAI,CAAC,sCAAsC,CAAC,CAAC,CAAC;AAC3G,KAAK;AACL,IAAI,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AAC1B,QAAQ,GAAG,CAAC,0BAA0B,CAAC,CAAC;AACxC,QAAQ,OAAO,GAAG,CAAC;AACnB,KAAK;AACL,IAAI,MAAM,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC;AAC9D,IAAI,IAAI,CAAC,UAAU,EAAE;AACrB,QAAQ,GAAG,CAAC,2CAA2C,CAAC,CAAC;AACzD,QAAQ,OAAO,GAAG,CAAC;AACnB,KAAK;AACL,IAAI,OAAO,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC;AACjF;;;;","x_google_ignoreList":[0]}