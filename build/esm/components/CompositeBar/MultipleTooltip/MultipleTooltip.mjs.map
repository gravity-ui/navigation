{"version":3,"file":"MultipleTooltip.mjs","sources":["../../../../../src/components/CompositeBar/MultipleTooltip/MultipleTooltip.tsx"],"sourcesContent":["import React from 'react';\n\nimport {Popup, PopupProps} from '@gravity-ui/uikit';\n\nimport {MenuItem} from '../../types';\nimport {block} from '../../utils/cn';\nimport {COLLAPSE_ITEM_ID} from '../constants';\n\nimport {MultipleTooltipContext} from './MultipleTooltipContext';\n\nimport './MultipleTooltip.scss';\n\nconst b = block('multiple-tooltip');\n\nconst POPUP_OFFSET: PopupProps['offset'] = [-32, 4];\nconst POPUP_MODIFIERS: PopupProps['modifiers'] = [\n    {\n        name: 'preventOverflow',\n        enabled: false,\n    },\n];\n\nexport type MultipleTooltipProps = Pick<PopupProps, 'open' | 'anchorRef' | 'placement'> & {\n    items: MenuItem[];\n};\n\nexport const MultipleTooltip: React.FC<MultipleTooltipProps> = ({\n    items,\n    open,\n    anchorRef,\n    placement,\n}) => {\n    const {activeIndex, hideCollapseItemTooltip} = React.useContext(MultipleTooltipContext);\n    const activeItem = activeIndex === undefined ? null : items[activeIndex];\n\n    return (\n        <Popup\n            open={open}\n            anchorRef={anchorRef}\n            placement={placement}\n            offset={POPUP_OFFSET}\n            contentClassName={b(null)}\n            modifiers={POPUP_MODIFIERS}\n            disableLayer\n        >\n            <div className={b('items-container')}>\n                {items\n                    .filter(\n                        ({type = 'regular', id}) =>\n                            !hideCollapseItemTooltip ||\n                            (id !== COLLAPSE_ITEM_ID && type !== 'action'),\n                    )\n                    .map((item, idx) => {\n                        switch (item.type) {\n                            case 'divider':\n                                return (\n                                    <div className={b('item', {divider: true})} key={idx}>\n                                        {item.title}\n                                    </div>\n                                );\n                            default:\n                                return (\n                                    <div\n                                        className={b('item', {\n                                            active: item === activeItem,\n                                        })}\n                                        key={idx}\n                                    >\n                                        {item.title}\n                                    </div>\n                                );\n                        }\n                    })}\n            </div>\n        </Popup>\n    );\n};\n"],"names":["React"],"mappings":";;;;;;;;AAYA,MAAM,CAAA,GAAI,MAAM,kBAAkB,CAAA,CAAA;AAElC,MAAM,YAAA,GAAqC,CAAC,CAAA,EAAA,EAAK,CAAC,CAAA,CAAA;AAClD,MAAM,eAA2C,GAAA;AAAA,EAC7C;AAAA,IACI,IAAM,EAAA,iBAAA;AAAA,IACN,OAAS,EAAA,KAAA;AAAA,GACb;AACJ,CAAA,CAAA;AAMO,MAAM,kBAAkD,CAAC;AAAA,EAC5D,KAAA;AAAA,EACA,IAAA;AAAA,EACA,SAAA;AAAA,EACA,SAAA;AACJ,CAAM,KAAA;AACF,EAAA,MAAM,EAAC,WAAa,EAAA,uBAAA,EAA2B,GAAAA,cAAA,CAAM,WAAW,sBAAsB,CAAA,CAAA;AACtF,EAAA,MAAM,UAAa,GAAA,WAAA,KAAgB,KAAY,CAAA,GAAA,IAAA,GAAO,MAAM,WAAW,CAAA,CAAA;AAEvE,EACI,uBAAA,GAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACG,IAAA;AAAA,MACA,SAAA;AAAA,MACA,SAAA;AAAA,MACA,MAAQ,EAAA,YAAA;AAAA,MACR,gBAAA,EAAkB,EAAE,IAAI,CAAA;AAAA,MACxB,SAAW,EAAA,eAAA;AAAA,MACX,YAAY,EAAA,IAAA;AAAA,MAEZ,8BAAC,KAAI,EAAA,EAAA,SAAA,EAAW,CAAE,CAAA,iBAAiB,GAC9B,QACI,EAAA,KAAA,CAAA,MAAA;AAAA,QACG,CAAC,EAAC,IAAA,GAAO,SAAW,EAAA,EAAA,OAChB,CAAC,uBAAA,IACA,EAAO,KAAA,gBAAA,IAAoB,IAAS,KAAA,QAAA;AAAA,OAE5C,CAAA,GAAA,CAAI,CAAC,IAAA,EAAM,GAAQ,KAAA;AAChB,QAAA,QAAQ,KAAK,IAAM;AAAA,UACf,KAAK,SAAA;AACD,YAAA,uBACK,GAAA,CAAA,KAAA,EAAA,EAAI,SAAW,EAAA,CAAA,CAAE,MAAQ,EAAA,EAAC,OAAS,EAAA,IAAA,EAAK,CAAA,EACpC,QAAK,EAAA,IAAA,CAAA,KAAA,EAAA,EADuC,GAEjD,CAAA,CAAA;AAAA,UAER;AACI,YACI,uBAAA,GAAA;AAAA,cAAC,KAAA;AAAA,cAAA;AAAA,gBACG,SAAA,EAAW,EAAE,MAAQ,EAAA;AAAA,kBACjB,QAAQ,IAAS,KAAA,UAAA;AAAA,iBACpB,CAAA;AAAA,gBAGA,QAAK,EAAA,IAAA,CAAA,KAAA;AAAA,eAAA;AAAA,cAFD,GAAA;AAAA,aAGT,CAAA;AAAA,SAEZ;AAAA,OACH,CACT,EAAA,CAAA;AAAA,KAAA;AAAA,GACJ,CAAA;AAER;;;;"}