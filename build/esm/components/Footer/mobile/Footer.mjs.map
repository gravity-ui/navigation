{"version":3,"file":"Footer.mjs","sources":["../../../../../src/components/Footer/mobile/Footer.tsx"],"sourcesContent":["import React, {useCallback, useRef, useState} from 'react';\nimport type {FC} from 'react';\n\nimport {Ellipsis} from '@gravity-ui/icons';\nimport {Button, Icon, Menu, Sheet} from '@gravity-ui/uikit';\n\nimport {useOverflowingHorizontalListItems} from '../../../hooks/useOverflowingHorizontalListItems';\nimport {Logo} from '../../Logo';\nimport {block} from '../../utils/cn';\nimport {MenuItem} from '../MenuItem/MenuItem';\nimport {FooterMenuItem, FooterProps} from '../types';\n\nimport './Footer.scss';\n\nconst b = block('footer');\n\nconst modalId = 'footer-more-items';\n\nexport const MobileFooter: FC<FooterProps> = ({\n    className,\n    menuItems: providedMenuItems,\n    withDivider,\n    moreButtonTitle,\n    onMoreButtonClick,\n    view = 'normal',\n    logo,\n    logoWrapperClassName,\n    copyright,\n}) => {\n    const [moreItemsMenuVisible, setMoreItemsMenuVisible] = useState(false);\n    const menuContainerRef = useRef<HTMLDivElement>(null);\n\n    const handleOpenMoreItemsMenu = useCallback(\n        (event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n            setMoreItemsMenuVisible(true);\n            onMoreButtonClick?.(event);\n        },\n        [onMoreButtonClick],\n    );\n\n    const handleCloseMoreItemsMenu = useCallback(() => {\n        setMoreItemsMenuVisible(false);\n    }, []);\n\n    const menuItems = view === 'clear' ? undefined : providedMenuItems;\n\n    const {visibleItems, hiddenItems, measured} = useOverflowingHorizontalListItems({\n        containerRef: menuContainerRef,\n        items: menuItems,\n        itemSelector: `.${b('menu-item')}`,\n        moreButtonWidth: 28,\n    });\n\n    const renderMenu = (items: FooterMenuItem[]) => (\n        <Menu className={b('list')}>\n            {items.map((item, index) => (\n                <MenuItem key={index} {...item} className={b('menu-item', item.className)} />\n            ))}\n        </Menu>\n    );\n\n    const shouldRenderLogo = view !== 'clear' && Boolean(logo);\n\n    return (\n        <footer className={b({mobile: true, 'with-divider': withDivider, view}, className)}>\n            <div className={b('menu', {measured})} ref={menuContainerRef}>\n                {visibleItems.length > 0 && renderMenu(visibleItems)}\n                {hiddenItems.length > 0 && (\n                    <>\n                        <Button\n                            view=\"flat-secondary\"\n                            size=\"l\"\n                            onClick={handleOpenMoreItemsMenu}\n                            title={moreButtonTitle}\n                        >\n                            <Icon data={Ellipsis} size={16} />\n                        </Button>\n                        <Sheet\n                            id={modalId}\n                            visible={moreItemsMenuVisible}\n                            className={b('modal')}\n                            contentClassName={b('modal-content')}\n                            onClose={handleCloseMoreItemsMenu}\n                        >\n                            {renderMenu(hiddenItems)}\n                        </Sheet>\n                    </>\n                )}\n            </div>\n            <div className={b('bottom-row')}>\n                <small className={b('copyright')}>{copyright}</small>\n                {shouldRenderLogo && (\n                    <div className={logoWrapperClassName}>\n                        <Logo {...logo!} />\n                    </div>\n                )}\n            </div>\n        </footer>\n    );\n};\n"],"names":["jsx","jsxs","Fragment"],"mappings":"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"}