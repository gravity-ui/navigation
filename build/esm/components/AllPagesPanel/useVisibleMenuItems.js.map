{"version":3,"file":"useVisibleMenuItems.js","sources":["../../../../../src/components/AllPagesPanel/useVisibleMenuItems.ts"],"sourcesContent":["import {useMemo} from 'react';\n\nimport {useAsideHeaderInnerContext} from '../AsideHeader/AsideHeaderContext';\nimport {MenuItem} from '../types';\n\nexport const useVisibleMenuItems = (): MenuItem[] => {\n    const {menuItems, allPagesIsAvailable} = useAsideHeaderInnerContext();\n    return useMemo(() => {\n        if (!allPagesIsAvailable) {\n            return menuItems;\n        }\n        let lastVisibleIndex = 0;\n        return menuItems.filter((item: MenuItem, index: number, items: MenuItem[]): boolean => {\n            if (item.hidden) {\n                return false;\n            }\n\n            if (\n                index > 0 &&\n                item.type === 'divider' &&\n                (items[lastVisibleIndex].type === 'divider' || items[lastVisibleIndex].hidden)\n            ) {\n                return false;\n            }\n            lastVisibleIndex = index;\n            return true;\n        });\n    }, [allPagesIsAvailable, menuItems]);\n};\n"],"names":[],"mappings":";;;AAKO,MAAM,mBAAmB,GAAG,MAAiB;IAChD,MAAM,EAAC,SAAS,EAAE,mBAAmB,EAAC,GAAG,0BAA0B,EAAE,CAAC;IACtE,OAAO,OAAO,CAAC,MAAK;QAChB,IAAI,CAAC,mBAAmB,EAAE;AACtB,YAAA,OAAO,SAAS,CAAC;AACpB,SAAA;QACD,IAAI,gBAAgB,GAAG,CAAC,CAAC;QACzB,OAAO,SAAS,CAAC,MAAM,CAAC,CAAC,IAAc,EAAE,KAAa,EAAE,KAAiB,KAAa;YAClF,IAAI,IAAI,CAAC,MAAM,EAAE;AACb,gBAAA,OAAO,KAAK,CAAC;AAChB,aAAA;YAED,IACI,KAAK,GAAG,CAAC;gBACT,IAAI,CAAC,IAAI,KAAK,SAAS;AACvB,iBAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,IAAI,KAAK,SAAS,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC,MAAM,CAAC,EAChF;AACE,gBAAA,OAAO,KAAK,CAAC;AAChB,aAAA;YACD,gBAAgB,GAAG,KAAK,CAAC;AACzB,YAAA,OAAO,IAAI,CAAC;AAChB,SAAC,CAAC,CAAC;AACP,KAAC,EAAE,CAAC,mBAAmB,EAAE,SAAS,CAAC,CAAC,CAAC;AACzC;;;;"}