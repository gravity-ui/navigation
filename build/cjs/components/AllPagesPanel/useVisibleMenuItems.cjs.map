{"version":3,"file":"useVisibleMenuItems.cjs","sources":["../../../../src/components/AllPagesPanel/useVisibleMenuItems.ts"],"sourcesContent":["import {useMemo} from 'react';\n\nimport {useAsideHeaderInnerContext} from '../AsideHeader/AsideHeaderContext';\nimport {MenuItem} from '../types';\n\nexport const useVisibleMenuItems = (): MenuItem[] => {\n    const {menuItems, allPagesIsAvailable} = useAsideHeaderInnerContext();\n    return useMemo(() => {\n        if (!allPagesIsAvailable) {\n            return menuItems;\n        }\n        let lastVisibleIndex = 0;\n        return menuItems.filter((item: MenuItem, index: number, items: MenuItem[]): boolean => {\n            if (item.hidden) {\n                return false;\n            }\n\n            if (\n                index > 0 &&\n                item.type === 'divider' &&\n                (items[lastVisibleIndex].type === 'divider' || items[lastVisibleIndex].hidden)\n            ) {\n                return false;\n            }\n            lastVisibleIndex = index;\n            return true;\n        });\n    }, [allPagesIsAvailable, menuItems]);\n};\n"],"names":["useAsideHeaderInnerContext","useMemo"],"mappings":";;;;;;;AAKO,MAAM,sBAAsB,MAAkB;AACjD,EAAA,MAAM,EAAC,SAAA,EAAW,mBAAmB,EAAA,GAAIA,6CAA2B,EAAA,CAAA;AACpE,EAAA,OAAOC,2BAAQ,MAAM;AACjB,IAAA,IAAI,CAAC,mBAAqB,EAAA;AACtB,MAAO,OAAA,SAAA,CAAA;AAAA,KACX;AACA,IAAA,IAAI,gBAAmB,GAAA,CAAA,CAAA;AACvB,IAAA,OAAO,SAAU,CAAA,MAAA,CAAO,CAAC,IAAA,EAAgB,OAAe,KAA+B,KAAA;AACnF,MAAA,IAAI,KAAK,MAAQ,EAAA;AACb,QAAO,OAAA,KAAA,CAAA;AAAA,OACX;AAEA,MAAA,IACI,KAAQ,GAAA,CAAA,IACR,IAAK,CAAA,IAAA,KAAS,SACb,KAAA,KAAA,CAAM,gBAAgB,CAAA,CAAE,IAAS,KAAA,SAAA,IAAa,KAAM,CAAA,gBAAgB,EAAE,MACzE,CAAA,EAAA;AACE,QAAO,OAAA,KAAA,CAAA;AAAA,OACX;AACA,MAAmB,gBAAA,GAAA,KAAA,CAAA;AACnB,MAAO,OAAA,IAAA,CAAA;AAAA,KACV,CAAA,CAAA;AAAA,GACF,EAAA,CAAC,mBAAqB,EAAA,SAAS,CAAC,CAAA,CAAA;AACvC;;;;"}