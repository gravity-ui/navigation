{"version":3,"file":"MultipleTooltip.js","sources":["../../../../../../src/components/CompositeBar/MultipleTooltip/MultipleTooltip.tsx"],"sourcesContent":["import React from 'react';\n\nimport {Popup, PopupProps} from '@gravity-ui/uikit';\n\nimport {MenuItem} from '../../types';\nimport {block} from '../../utils/cn';\nimport {COLLAPSE_ITEM_ID} from '../constants';\n\nimport {MultipleTooltipContext} from './MultipleTooltipContext';\n\nimport './MultipleTooltip.scss';\n\nconst b = block('multiple-tooltip');\n\nconst POPUP_OFFSET: PopupProps['offset'] = [-32, 4];\nconst POPUP_MODIFIERS: PopupProps['modifiers'] = [\n    {\n        name: 'preventOverflow',\n        enabled: false,\n    },\n];\n\nexport type MultipleTooltipProps = Pick<PopupProps, 'open' | 'anchorRef' | 'placement'> & {\n    items: MenuItem[];\n};\n\nexport const MultipleTooltip: React.FC<MultipleTooltipProps> = ({\n    items,\n    open,\n    anchorRef,\n    placement,\n}) => {\n    const {activeIndex, hideCollapseItemTooltip} = React.useContext(MultipleTooltipContext);\n    const activeItem = activeIndex === undefined ? null : items[activeIndex];\n\n    return (\n        <Popup\n            open={open}\n            anchorRef={anchorRef}\n            placement={placement}\n            offset={POPUP_OFFSET}\n            contentClassName={b(null)}\n            modifiers={POPUP_MODIFIERS}\n            disableLayer\n        >\n            <div className={b('items-container')}>\n                {items\n                    .filter(\n                        ({type = 'regular', id}) =>\n                            !hideCollapseItemTooltip ||\n                            (id !== COLLAPSE_ITEM_ID && type !== 'action'),\n                    )\n                    .map((item, idx) => {\n                        switch (item.type) {\n                            case 'divider':\n                                return (\n                                    <div className={b('item', {divider: true})} key={idx}>\n                                        {item.title}\n                                    </div>\n                                );\n                            default:\n                                return (\n                                    <div\n                                        className={b('item', {\n                                            active: item === activeItem,\n                                        })}\n                                        key={idx}\n                                    >\n                                        {item.title}\n                                    </div>\n                                );\n                        }\n                    })}\n            </div>\n        </Popup>\n    );\n};\n"],"names":["block","React","MultipleTooltipContext","Popup","COLLAPSE_ITEM_ID"],"mappings":";;;;;;;;;;;;;;AAYA,MAAM,CAAC,GAAGA,QAAK,CAAC,kBAAkB,CAAC,CAAC;AAEpC,MAAM,YAAY,GAAyB,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AACpD,MAAM,eAAe,GAA4B;AAC7C,IAAA;AACI,QAAA,IAAI,EAAE,iBAAiB;AACvB,QAAA,OAAO,EAAE,KAAK;AACjB,KAAA;CACJ,CAAC;AAMK,MAAM,eAAe,GAAmC,CAAC,EAC5D,KAAK,EACL,IAAI,EACJ,SAAS,EACT,SAAS,GACZ,KAAI;AACD,IAAA,MAAM,EAAC,WAAW,EAAE,uBAAuB,EAAC,GAAGC,yBAAK,CAAC,UAAU,CAACC,6CAAsB,CAAC,CAAC;AACxF,IAAA,MAAM,UAAU,GAAG,WAAW,KAAK,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC,CAAC;AAEzE,IAAA,QACID,yBAAA,CAAA,aAAA,CAACE,WAAK,EAAA,EACF,IAAI,EAAE,IAAI,EACV,SAAS,EAAE,SAAS,EACpB,SAAS,EAAE,SAAS,EACpB,MAAM,EAAE,YAAY,EACpB,gBAAgB,EAAE,CAAC,CAAC,IAAI,CAAC,EACzB,SAAS,EAAE,eAAe,EAC1B,YAAY,EAAA,IAAA,EAAA;AAEZ,QAAAF,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,CAAC,CAAC,iBAAiB,CAAC,IAC/B,KAAK;AACD,aAAA,MAAM,CACH,CAAC,EAAC,IAAI,GAAG,SAAS,EAAE,EAAE,EAAC,KACnB,CAAC,uBAAuB;aACvB,EAAE,KAAKG,0BAAgB,IAAI,IAAI,KAAK,QAAQ,CAAC,CACrD;AACA,aAAA,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,KAAI;YACf,QAAQ,IAAI,CAAC,IAAI;AACb,gBAAA,KAAK,SAAS;oBACV,QACIH,yBAAK,CAAA,aAAA,CAAA,KAAA,EAAA,EAAA,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAA,EAC/C,IAAI,CAAC,KAAK,CACT,EACR;AACN,gBAAA;AACI,oBAAA,QACIA,yBACI,CAAA,aAAA,CAAA,KAAA,EAAA,EAAA,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE;4BACjB,MAAM,EAAE,IAAI,KAAK,UAAU;yBAC9B,CAAC,EACF,GAAG,EAAE,GAAG,EAAA,EAEP,IAAI,CAAC,KAAK,CACT,EACR;AACT,aAAA;AACL,SAAC,CAAC,CACJ,CACF,EACV;AACN;;;;"}