{"version":3,"file":"Footer.js","sources":["../../../../../../../src/components/Footer/desktop/Footer.tsx"],"sourcesContent":["import React, {useMemo, useRef} from 'react';\nimport type {FC} from 'react';\n\nimport {DropdownMenu, Menu} from '@gravity-ui/uikit';\nimport type {DropdownMenuItem} from '@gravity-ui/uikit';\n\nimport {useOverflowingHorizontalListItems} from '../../../hooks/useOverflowingHorizontalListItems';\nimport {Logo} from '../../Logo';\nimport {block} from '../../utils/cn';\nimport {MenuItem} from '../MenuItem/MenuItem';\nimport {FooterProps} from '../types';\n\nimport {moreItemsPopupProps} from './constants/moreItemsPopupProps';\n\nimport './Footer.scss';\n\nconst b = block('footer');\n\nexport const Footer: FC<FooterProps> = ({\n    className,\n    menuItems: providedMenuItems,\n    withDivider,\n    moreButtonTitle,\n    onMoreButtonClick,\n    view = 'normal',\n    logo,\n    logoWrapperClassName,\n    copyright,\n}) => {\n    const menuContainerRef = useRef<HTMLDivElement>(null);\n\n    const menuItems = view === 'clear' ? undefined : providedMenuItems;\n\n    const {visibleItems, hiddenItems, measured} = useOverflowingHorizontalListItems({\n        containerRef: menuContainerRef,\n        items: menuItems,\n        itemSelector: `.${b('menu-item')}`,\n        moreButtonWidth: 28,\n    });\n\n    const moreButtonProps = useMemo(\n        () => ({\n            title: moreButtonTitle,\n        }),\n        [moreButtonTitle],\n    );\n\n    const dropdownMenuItems = useMemo(\n        () =>\n            hiddenItems.map(\n                (item) =>\n                    ({\n                        ...item,\n                        action: item.onClick,\n                    }) as DropdownMenuItem,\n            ),\n        [hiddenItems],\n    );\n\n    const shouldRenderLogo = view !== 'clear' && Boolean(logo);\n    const shouldRenderMenu = (menuItems?.length ?? 0) > 0;\n\n    return (\n        <footer className={b({desktop: true, 'with-divider': withDivider, view}, className)}>\n            {shouldRenderMenu && (\n                <div className={b('menu', {measured})} ref={menuContainerRef}>\n                    {visibleItems.length > 0 && (\n                        <Menu className={b('list')}>\n                            {visibleItems.map((item, index) => (\n                                <MenuItem\n                                    key={index}\n                                    {...item}\n                                    className={b('menu-item', item.className)}\n                                />\n                            ))}\n                        </Menu>\n                    )}\n                    {dropdownMenuItems.length > 0 && (\n                        <DropdownMenu\n                            items={dropdownMenuItems}\n                            switcherWrapperClassName={b('more-button')}\n                            popupProps={moreItemsPopupProps}\n                            defaultSwitcherProps={moreButtonProps}\n                            onSwitcherClick={onMoreButtonClick}\n                        />\n                    )}\n                </div>\n            )}\n            <div className={b('right')}>\n                <small className={b('copyright', {small: !menuItems?.length})}>{copyright}</small>\n                {shouldRenderLogo && (\n                    <div className={logoWrapperClassName}>\n                        <Logo {...logo!} />\n                    </div>\n                )}\n            </div>\n        </footer>\n    );\n};\n"],"names":["block","useRef","useOverflowingHorizontalListItems","useMemo","React","Menu","MenuItem","DropdownMenu","moreItemsPopupProps","Logo"],"mappings":"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"}