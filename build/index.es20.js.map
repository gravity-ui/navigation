{"version":3,"file":"index.es20.js","sources":["../src/components/Footer/desktop/Footer.tsx"],"sourcesContent":["import React, {useMemo, useRef} from 'react';\nimport type {FC} from 'react';\n\nimport {DropdownMenu, Menu} from '@gravity-ui/uikit';\nimport type {DropdownMenuItem} from '@gravity-ui/uikit';\n\nimport {useOverflowingHorizontalListItems} from '../../../hooks/useOverflowingHorizontalListItems';\nimport {Logo} from '../../Logo';\nimport {block} from '../../utils/cn';\nimport {MenuItem} from '../MenuItem/MenuItem';\nimport {FooterProps} from '../types';\n\nimport {moreItemsPopupProps} from './constants/moreItemsPopupProps';\n\nimport './Footer.scss';\n\nconst b = block('footer');\n\nexport const Footer: FC<FooterProps> = ({\n    className,\n    menuItems: providedMenuItems,\n    withDivider,\n    moreButtonTitle,\n    onMoreButtonClick,\n    view = 'normal',\n    logo,\n    logoWrapperClassName,\n    copyright,\n}) => {\n    const menuContainerRef = useRef<HTMLDivElement>(null);\n\n    const menuItems = view === 'clear' ? undefined : providedMenuItems;\n\n    const {visibleItems, hiddenItems, measured} = useOverflowingHorizontalListItems({\n        containerRef: menuContainerRef,\n        items: menuItems,\n        itemSelector: `.${b('menu-item')}`,\n        moreButtonWidth: 28,\n    });\n\n    const moreButtonProps = useMemo(\n        () => ({\n            title: moreButtonTitle,\n        }),\n        [moreButtonTitle],\n    );\n\n    const dropdownMenuItems = useMemo(\n        () =>\n            hiddenItems.map(\n                (item) =>\n                    ({\n                        ...item,\n                        action: item.onClick,\n                    }) as DropdownMenuItem,\n            ),\n        [hiddenItems],\n    );\n\n    const shouldRenderLogo = view !== 'clear' && Boolean(logo);\n    const shouldRenderMenu = (menuItems?.length ?? 0) > 0;\n\n    return (\n        <footer className={b({desktop: true, 'with-divider': withDivider, view}, className)}>\n            {shouldRenderMenu && (\n                <div className={b('menu', {measured})} ref={menuContainerRef}>\n                    {visibleItems.length > 0 && (\n                        <Menu className={b('list')}>\n                            {visibleItems.map((item, index) => (\n                                <MenuItem\n                                    key={index}\n                                    {...item}\n                                    className={b('menu-item', item.className)}\n                                />\n                            ))}\n                        </Menu>\n                    )}\n                    {dropdownMenuItems.length > 0 && (\n                        <DropdownMenu\n                            items={dropdownMenuItems}\n                            switcherWrapperClassName={b('more-button')}\n                            popupProps={moreItemsPopupProps}\n                            defaultSwitcherProps={moreButtonProps}\n                            onSwitcherClick={onMoreButtonClick}\n                        />\n                    )}\n                </div>\n            )}\n            <div className={b('right')}>\n                <small className={b('copyright', {small: !menuItems?.length})}>{copyright}</small>\n                {shouldRenderLogo && (\n                    <div className={logoWrapperClassName}>\n                        <Logo {...logo!} />\n                    </div>\n                )}\n            </div>\n        </footer>\n    );\n};\n"],"names":[],"mappings":";;;;;;;;;;AAgBA,MAAM,CAAA,GAAI,MAAM,QAAQ,CAAA,CAAA;AAEjB,MAAM,SAA0B,CAAC;AAAA,EACpC,SAAA;AAAA,EACA,SAAW,EAAA,iBAAA;AAAA,EACX,WAAA;AAAA,EACA,eAAA;AAAA,EACA,iBAAA;AAAA,EACA,IAAO,GAAA,QAAA;AAAA,EACP,IAAA;AAAA,EACA,oBAAA;AAAA,EACA,SAAA;AACJ,CAAM,KAAA;AACF,EAAM,MAAA,gBAAA,GAAmB,OAAuB,IAAI,CAAA,CAAA;AAEpD,EAAM,MAAA,SAAA,GAAY,IAAS,KAAA,OAAA,GAAU,KAAY,CAAA,GAAA,iBAAA,CAAA;AAEjD,EAAA,MAAM,EAAC,YAAA,EAAc,WAAa,EAAA,QAAA,KAAY,iCAAkC,CAAA;AAAA,IAC5E,YAAc,EAAA,gBAAA;AAAA,IACd,KAAO,EAAA,SAAA;AAAA,IACP,YAAc,EAAA,CAAA,CAAA,EAAI,CAAE,CAAA,WAAW,CAAC,CAAA,CAAA;AAAA,IAChC,eAAiB,EAAA,EAAA;AAAA,GACpB,CAAA,CAAA;AAED,EAAA,MAAM,eAAkB,GAAA,OAAA;AAAA,IACpB,OAAO;AAAA,MACH,KAAO,EAAA,eAAA;AAAA,KACX,CAAA;AAAA,IACA,CAAC,eAAe,CAAA;AAAA,GACpB,CAAA;AAEA,EAAA,MAAM,iBAAoB,GAAA,OAAA;AAAA,IACtB,MACI,WAAY,CAAA,GAAA;AAAA,MACR,CAAC,IACI,MAAA;AAAA,QACG,GAAG,IAAA;AAAA,QACH,QAAQ,IAAK,CAAA,OAAA;AAAA,OACjB,CAAA;AAAA,KACR;AAAA,IACJ,CAAC,WAAW,CAAA;AAAA,GAChB,CAAA;AAEA,EAAA,MAAM,gBAAmB,GAAA,IAAA,KAAS,OAAW,IAAA,OAAA,CAAQ,IAAI,CAAA,CAAA;AACzD,EAAM,MAAA,gBAAA,GAAA,CAAoB,SAAW,EAAA,MAAA,IAAU,CAAK,IAAA,CAAA,CAAA;AAEpD,EAAA,uBACK,IAAA,CAAA,QAAA,EAAA,EAAO,SAAW,EAAA,CAAA,CAAE,EAAC,OAAA,EAAS,IAAM,EAAA,cAAA,EAAgB,WAAa,EAAA,IAAA,EAAO,EAAA,SAAS,CAC7E,EAAA,QAAA,EAAA;AAAA,IACG,gBAAA,oBAAA,IAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAW,CAAE,CAAA,MAAA,EAAQ,EAAC,QAAQ,EAAC,CAAG,EAAA,GAAA,EAAK,gBACvC,EAAA,QAAA,EAAA;AAAA,MAAA,YAAA,CAAa,MAAS,GAAA,CAAA,oBAClB,GAAA,CAAA,IAAA,EAAA,EAAK,SAAW,EAAA,CAAA,CAAE,MAAM,CAAA,EACpB,QAAa,EAAA,YAAA,CAAA,GAAA,CAAI,CAAC,IAAA,EAAM,KACrB,qBAAA,GAAA;AAAA,QAAC,QAAA;AAAA,QAAA;AAAA,UAEI,GAAG,IAAA;AAAA,UACJ,SAAW,EAAA,CAAA,CAAE,WAAa,EAAA,IAAA,CAAK,SAAS,CAAA;AAAA,SAAA;AAAA,QAFnC,KAAA;AAAA,OAIZ,CACL,EAAA,CAAA;AAAA,MAEH,iBAAA,CAAkB,SAAS,CACxB,oBAAA,GAAA;AAAA,QAAC,YAAA;AAAA,QAAA;AAAA,UACG,KAAO,EAAA,iBAAA;AAAA,UACP,wBAAA,EAA0B,EAAE,aAAa,CAAA;AAAA,UACzC,UAAY,EAAA,mBAAA;AAAA,UACZ,oBAAsB,EAAA,eAAA;AAAA,UACtB,eAAiB,EAAA,iBAAA;AAAA,SAAA;AAAA,OACrB;AAAA,KAER,EAAA,CAAA;AAAA,oBAEH,IAAA,CAAA,KAAA,EAAA,EAAI,SAAW,EAAA,CAAA,CAAE,OAAO,CACrB,EAAA,QAAA,EAAA;AAAA,sBAAC,GAAA,CAAA,OAAA,EAAA,EAAM,SAAW,EAAA,CAAA,CAAE,WAAa,EAAA,EAAC,KAAO,EAAA,CAAC,SAAW,EAAA,MAAA,EAAO,CAAA,EAAI,QAAU,EAAA,SAAA,EAAA,CAAA;AAAA,MACzE,gBAAA,wBACI,KAAI,EAAA,EAAA,SAAA,EAAW,sBACZ,QAAC,kBAAA,GAAA,CAAA,IAAA,EAAA,EAAM,GAAG,IAAA,EAAO,CACrB,EAAA,CAAA;AAAA,KAER,EAAA,CAAA;AAAA,GACJ,EAAA,CAAA,CAAA;AAER;;;;"}